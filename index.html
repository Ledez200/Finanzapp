<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Finanzas Personales</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>FinanzApp</h1>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-item active" data-section="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                    </li>
                    <li class="nav-item" data-section="transacciones">
                        <i class="fas fa-exchange-alt"></i>
                        <span>Transacciones</span>
                    </li>
                    <li class="nav-item" data-section="gastos">
                        <i class="fas fa-wallet"></i>
                        <span>Gastos</span>
                    </li>
                    <li class="nav-item" data-section="evolucion">
                        <i class="fas fa-chart-bar"></i>
                        <span>Ahorro</span>
                    </li>
                    <li class="nav-item" data-section="asesoria">
                        <i class="fas fa-user-tie"></i>
                        <span>Asesoría</span>
                    </li>
                </ul>
            </nav>
            <div class="sidebar-footer">
                <button type="button" class="btn-sidebar" id="exportDataBtn">
                    <i class="fas fa-download"></i>
                    <span>Exportar Datos</span>
                </button>
                <button type="button" class="btn-sidebar" id="importDataBtn">
                    <i class="fas fa-upload"></i>
                    <span>Importar Datos</span>
                </button>
                <input type="file" id="importFileInput" accept=".json" style="display: none;">
            </div>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <h2>Dashboard</h2>
                <div class="dashboard-grid">
                    <div class="balance-section">
                        <h3>Resumen del Mes</h3>
                        <div class="balance-display">
                            <div class="total-ingresos">
                                <h4>Total Ingresos</h4>
                                <p id="totalIngresos">0.00 €</p>
                            </div>
                            <div class="total-gastos">
                                <h4>Total Gastos Fijos + Extras</h4>
                                <p id="totalGastos">0.00 €</p>
                            </div>
                        </div>
                    </div>
                    <!-- Tarjeta de Balance Final -->
                    <div class="balance-final">
                        <h4>Balance Final</h4>
                        <p id="balanceFinal">0.00 €</p>
                    </div>
                    <div class="graficos-section">
                        <div class="grafico-container">
                            <h3>Evolución del Balance</h3>
                            <canvas id="graficoBalance"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transacciones Section -->
            <section id="transacciones" class="content-section">
                <h2>Transacciones</h2>
                <div class="transacciones-container">
                    <div class="ingresos-section">
                        <h3>Registrar Ingreso</h3>
                        <form id="ingresoForm">
                            <div class="form-group">
                                <label for="conceptoIngreso">Concepto:</label>
                                <input type="text" id="conceptoIngreso" required placeholder="Ej: Nómina, Extra, etc.">
                            </div>
                            <div class="form-group">
                                <label for="montoIngreso">Monto (€):</label>
                                <input type="number" id="montoIngreso" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="fechaIngreso">Fecha:</label>
                                <input type="date" id="fechaIngreso" required>
                            </div>
                            <button type="submit">Registrar Ingreso</button>
                        </form>
                        <div class="ingresos-accordion">
                            <button type="button" class="accordion-btn" id="toggleHistorialIngresos">
                                <span>Historial de Ingresos</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="accordion-content" id="historialIngresos">
                                <ul id="listaIngresos"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Evolución Section -->
            <section id="evolucion" class="content-section">
                <h2>Evolución de Ahorros</h2>
                <div class="evolucion-container">
                    <div class="objetivos-section">
                        <div class="objetivos-header">
                            <h3>Objetivos de Ahorro</h3>
                            <button type="button" id="nuevoObjetivoBtn" class="btn-nuevo">
                                <i class="fas fa-plus"></i> Nuevo Objetivo
                            </button>
                        </div>

                        <!-- Modal para nuevo objetivo -->
                        <div id="objetivoModal" class="modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3>Nuevo Objetivo de Ahorro</h3>
                                    <button type="button" class="btn-cerrar">&times;</button>
                                </div>
                                <form id="objetivoForm">
                                    <div class="form-group">
                                        <label for="nombreObjetivo">Nombre del Objetivo:</label>
                                        <input type="text" id="nombreObjetivo" required placeholder="Ej: Viaje a Colombia">
                                    </div>
                                    <div class="form-group">
                                        <label for="metaObjetivo">Meta (€):</label>
                                        <input type="number" id="metaObjetivo" step="0.01" required min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="fechaObjetivo">Fecha Objetivo:</label>
                                        <input type="date" id="fechaObjetivo" required>
                                    </div>
                                    <button type="submit" class="btn-guardar">Crear Objetivo</button>
                                </form>
                            </div>
                        </div>

                        <!-- Modal para registrar ahorro -->
                        <div id="ahorroModal" class="modal">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3>Registrar Ahorro</h3>
                                    <button type="button" class="btn-cerrar">&times;</button>
                                </div>
                                <form id="ahorroForm">
                                    <div class="form-group">
                                        <label for="montoAhorro">Monto Ahorrado (€):</label>
                                        <input type="number" id="montoAhorro" step="0.01" required min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="fechaAhorro">Fecha:</label>
                                        <input type="date" id="fechaAhorro" required>
                                    </div>
                                    <button type="submit" class="btn-guardar">Registrar Ahorro</button>
                                </form>
                            </div>
                        </div>

                        <div class="objetivos-grid" id="objetivosGrid">
                            <!-- Los objetivos se agregarán dinámicamente aquí -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gastos Section -->
            <section id="gastos" class="content-section">
                <h2>Gastos Mensuales</h2>
                <div class="gastos-container">
                    <div class="gastos-fijos-section">
                        <div class="section-header">
                            <h3>Gastos Fijos</h3>
                            <div class="mes-selector">
                                <select id="mesActual">
                                    <option value="1">Enero</option>
                                    <option value="2">Febrero</option>
                                    <option value="3">Marzo</option>
                                    <option value="4">Abril</option>
                                    <option value="5">Mayo</option>
                                    <option value="6">Junio</option>
                                    <option value="7">Julio</option>
                                    <option value="8">Agosto</option>
                                    <option value="9">Septiembre</option>
                                    <option value="10">Octubre</option>
                                    <option value="11">Noviembre</option>
                                    <option value="12">Diciembre</option>
                                </select>
                                <select id="añoActual"></select>
                            </div>
                        </div>
                        <div class="gastos-grid">
                            <div class="gastos-list">
                                <ul id="listaGastos"></ul>
                            </div>
                            <div class="gastos-resumen">
                                <div class="resumen-card">
                                    <h4>Total Gastos Fijos</h4>
                                    <p id="totalGastosFijosMes">0.00 €</p>
                                </div>
                                <div class="resumen-card">
                                    <h4>Gastos Pagados</h4>
                                    <p id="gastosPagados">0.00 €</p>
                                </div>
                                <div class="resumen-card">
                                    <h4>Gastos Pendientes</h4>
                                    <p id="gastosPendientes">0.00 €</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="gastos-extras-section">
                        <div class="section-header">
                            <h3>Gastos Extras</h3>
                            <button type="button" class="btn-nuevo" id="nuevoGastoExtraBtn">
                                <i class="fas fa-plus"></i> Nuevo Gasto Extra
                            </button>
                        </div>
                        <div class="gastos-extras-list">
                            <ul id="listaGastosExtras"></ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Asesoría Section -->
            <section id="asesoria" class="content-section">
                <h2>Asesoría Financiera</h2>
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message system">
                            <div class="message-content">
                                <p>¡Hola! Soy tu asesor financiero personal. ¿En qué puedo ayudarte hoy?</p>
                                <p>Puedo ayudarte con:</p>
                                <ul>
                                    <li>Gestión de presupuesto</li>
                                    <li>Estrategias de ahorro</li>
                                    <li>Reducción de deudas</li>
                                    <li>Planificación financiera</li>
                                    <li>Educación financiera básica</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <form id="chatForm" class="chat-form">
                            <textarea 
                                id="chatInput" 
                                placeholder="Escribe tu pregunta aquí..." 
                                rows="1"
                                required></textarea>
                            <button type="submit" class="btn-enviar">
                                <i class="fas fa-paper-plane"></i><span class="visually-hidden">Enviar mensaje</span>
                            </button>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal para Nuevo Gasto Extra -->
    <div class="modal" id="gastoExtraModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nuevo Gasto Extra</h3>
                <button type="button" class="btn-cerrar">&times;</button>
            </div>
            <form id="gastoExtraForm">
                <div class="form-group">
                    <label for="conceptoGastoExtra">Concepto</label>
                    <input type="text" id="conceptoGastoExtra" required>
                </div>
                <div class="form-group">
                    <label for="montoGastoExtra">Monto (€)</label>
                    <input type="number" id="montoGastoExtra" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                    <label for="fechaGastoExtra">Fecha</label>
                    <input type="date" id="fechaGastoExtra" required>
                </div>
                <div class="form-group">
                    <label for="categoriaGastoExtra">Categoría</label>
                    <select id="categoriaGastoExtra" required>
                        <option value="compras">Compras</option>
                        <option value="ocio">Ocio</option>
                        <option value="transporte">Transporte</option>
                        <option value="salud">Salud</option>
                        <option value="otros">Otros</option>
                    </select>
                </div>
                <button type="submit" class="btn-guardar">Guardar Gasto</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html> 